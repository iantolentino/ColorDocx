<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes"/>
  <title>ColorDocx ¬∑ responsive reader</title>
  <link rel="icon" type="image/png" href="assets/document.png">
  <!-- Bootstrap CSS (light footprint) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <!-- external libraries (unchanged) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.2/mammoth.browser.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/epub.js/0.3.88/epub.min.js"></script>
  <!-- pdf.js worker (fixed) -->
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.worker.min.js';
  </script>
</head>
<body>
  <!-- navigation with theme toggle (js unchanged) -->
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid px-3 px-md-4">
      <a class="navbar-brand" href="#">
        <span style="font-size: 1.8rem; margin-right: 6px; line-height: 1;">üé®</span> ColorDocx
      </a>
      <div class="d-flex gap-2 ms-auto">
        <!-- actions grouped inside navbar for spacious view -->
        <div class="action-group d-none d-lg-flex">
          <button class="btn btn-outline-primary" onclick="downloadHtmlContent()">HTML</button>
          <button class="btn btn-outline-primary" onclick="downloadPdfContent()">PDF</button>
          <button class="btn btn-outline-primary" onclick="toggleFullScreen()">‚õ∂ full</button>
          <button class="btn btn-outline-secondary" onclick="toggleTheme()" title="toggle light/dark">‚òº</button>
        </div>
        <!-- mobile toggler + theme helper (keep bootstrap collapse for small) -->
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
          aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="navbarContent">
        <!-- mobile action group (same buttons, identical JS) -->
        <div class="action-group mt-3 mt-lg-0 d-flex d-lg-none flex-wrap justify-content-start w-100">
          <button class="btn btn-outline-primary" onclick="downloadHtmlContent()">HTML</button>
          <button class="btn btn-outline-primary" onclick="downloadPdfContent()">PDF</button>
          <button class="btn btn-outline-primary" onclick="toggleFullScreen()">Full screen</button>
          <button class="btn btn-outline-secondary" onclick="toggleTheme()">üåì theme</button>
        </div>
      </div>
    </div>
  </nav>

  <main class="container-custom">
    <!-- upload card: more breathing room -->
    <div class="upload-card">
      <label for="upload" class="form-label fw-semibold" style="color: var(--accent); font-size: 1.2rem;">
        üìÑ upload document (DOCX, PDF, EPUB)
      </label>
      <input type="file" id="upload" class="form-control" accept=".docx, .pdf, .epub" />
      <!-- dynamic file indicator (purely cosmetic, no logic change) -->
      <div class="file-status" id="fileStatus">
        <span></span> <span id="fileNameDisplay">no file chosen</span>
      </div>
    </div>

    <!-- style selector with nicer spacing -->
    <div class="row g-3 align-items-center mb-4">
      <div class="col-md-5 col-lg-4">
        <select id="textStyle" class="form-select">
          <option value="underline">üé® underline (random color)</option>
          <option value="highlight">üü® highlight (random)</option>
          <option value="bold">üî§ bold + color</option>
          <option value="italic">‚úé italic + color</option>
        </select>
      </div>
      <div class="col-md-7 col-lg-8">
        <!-- big CTA button: Display and style -->
        <button class="btn-primary-custom" onclick="loadFile()">‚ú® display & style document</button>
      </div>
    </div>

    <!-- content card -->
    <div id="content" class="p-3 p-md-4">
      Please upload a DOCX, PDF, or EPUB file to display content.
    </div>

    <!-- loading element (exact ID used by js) -->
    <div id="loading">‚è≥ loading ‚Ä¶</div>
  </main>

  <script src="js/script.js"></script>
  <!-- Bootstrap bundle (for collapse) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- user-friendly addition: show file name (already added above) - no conflict -->
</body>
</html>